Welcome back.

This lecture will teach us to create a storage layer for our lake house.

I already explained the details of creating a storage layer for your Databricks Lake house.

It is a three step process.

Create a storage account.

Create your storage containers.

Set up a storage access connector for Databricks.

So let's start with step one and create a storage account.

Go to the Azure Portal.

Select the storage accounts from the Left portal menu to display a list of your storage accounts.

On the storage accounts page.

Select the create button.

Options for your new storage accounts are organized into tabs on the Create a storage account page on

the basics tab.

Provide the essential information for your storage account.

Select the subscription for the new storage account.

Choose your existing resource group for this storage account.

Choose a unique name for your storage account.

Select the appropriate region for your storage account.

I'll go for the East US region.

Select standard performance.

Select your desired redundancy configuration.

You can go with the gers or the should be acceptable for learning purposes.

Then move on to the advanced tab.

On the advanced tab.

Enable hierarchical name space by selecting the tick box.

That's all you can take defaults for everything else.

So hit the review button.

Azure will validate your configuration and enable the Create button in less than a minute.

Now hit the Create button and Azure will create a storage account for you.

It might take a minute.

Then we finished creating a storage account.

Now let's proceed with the second step of creating storage containers.

You can go to your storage account page and create a storage container inside your account.

Click the containers menu item.

And then the plus button at the top.

Give a name to your container.

Let me call it as meta store root because I want this container to become the root folder for the Unity

catalog.

Hit the create button.

We need two more containers.

So let me create one more container.

Give a name to this container.

This container will be a root directory for all our managed tables.

Now create one more container.

Give a name to this container.

We will be creating unmanaged datasets in this container.

That's all you created three storage containers as per your storage layer design.

And we also finished this step to.

Now, step three is to set up Databricks Access Connector.

Let's do it.

Click the plus create a resource button in the left menu bar of the Azure Portal.

Search for the Access Connector for Azure Databricks.

Click create.

Now choose your subscription, then choose your resource group.

Enter a name that indicates the purpose of the connector.

Now choose a region.

This should be the same region as the storage account.

So we will go with the east us.

Now click review plus create.

Click the create button once again.

Great.

My Azure Databricks Access Connector is deployed with a system assigned managed identity.

Let's go to the resource.

Make a note of the resource ID, You will need that later.

That's all We have a connector.

The last step is to grant a storage account access to the managed identity.

Let's do it.

Go back to your storage account.

You can go to the home page to see the storage account name, click your storage account name to go

to the resource page.

Now we want to grant access to the storage account for the Databricks Access connector.

Go to access control.

Iam.

Click plus add.

And select add role assignment.

Select the storage Blob data contributor role and click next.

Click plus select members and select all system assigned managed identities.

You will see your connector name.

Select it.

And click review and assign.

That's all.

We are done.

Great.

So we completed all the steps to create a storage layer for our lake house.

We also created a Databricks access connector using managed identity and assigned a storage blob data

contributor role.

And that's all for this lecture.

See you again.

Keep learning and keep growing.

